(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f55826f"],{"02dd":function(e,t,a){},"1a27":function(e,t,a){"use strict";var r=a("99b7"),n=a.n(r);n.a},"2a29":function(e,t,a){},"3fd4":function(e,t,a){"use strict";var r=a("5397"),n=a.n(r);n.a},"44a8":function(e,t,a){},5397:function(e,t,a){},"5e4d":function(e,t,a){"use strict";var r=a("f3b8"),n=a.n(r);n.a},"7a4e":function(e,t,a){"use strict";var r=a("02dd"),n=a.n(r);n.a},"7c9d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"attachments-container"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:10}},[a("h3",[e._v("附件列表")])]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-row",{staticClass:"row-bg uploader",attrs:{type:"flex",justify:"end"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadApi,multiple:!1,limit:1,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"file-list":e.fileList}},["show"!==e.type?a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传附件")]):e._e()],1)],1)],1)],1),e._v(" "),a("el-table",{attrs:{data:e.dataSource,border:""}},[a("el-table-column",{attrs:{label:e.$t("attachment.type"),width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"text-transform":"uppercase"}},[e._v(e._s(t.row.type))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("attachment.name"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("attachment.url")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.url))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("attachment.createdAt"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createdAt))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:e.$t("common.operation"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"el-button el-button--text el-button--small",attrs:{href:t.row.url,target:"_blank"}},[e._v("下载")]),e._v(" "),"edit"===e.type?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClickDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1)},n=[],o=(a("e6d1"),a("b775")),i=a("e0fe"),s=a("a46e"),c={name:"Attachments",props:{dataSourceUrl:{type:String,default:""},type:{type:String,default:""}},data:function(){return{dataSource:[],fileList:[],uploadApi:"http://quantum.forktea.com/api/upload"}},created:function(){var e=this;Object(o["a"])({url:this.dataSourceUrl,method:"get"}).then((function(t){e.dataSource=Object.assign([],e.dataSource,t)}))},methods:{handleAttachmentCreate:function(e,t){var a=this,r=e.split(".").reverse()[0],n="http://quantum.forktea.com"+t;Object(o["a"])({url:this.dataSourceUrl,method:"post",data:{type:r,name:e,url:n}}).then((function(e){a.$message({message:"上传成功! Uploaded Successfully!",type:"success"}),Object(s["b"])(a)})).catch((function(e){a.$message.error("拉取附件失败! Fetch Attachments Failed!"),a.loading=!1}))},handleClickDelete:function(e){Object(i["a"])(this,Object(o["a"])({url:"".concat(this.dataSourceUrl,"/").concat(e.recordId),method:"delete"}))},handleUploadSuccess:function(e,t,a){var r=e.fileOriginName,n=e.fileUrl;this.handleAttachmentCreate(r,n)},handleUploadError:function(e,t,a){console.error(e),this.$message.error("上传失败! Upload Failed!")}}},l=c,d=(a("89a4"),a("4e82")),u=Object(d["a"])(l,r,n,!1,null,"7863d871",null);t["a"]=u.exports},"7dac":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},["edit"===e.type?a("el-link",{attrs:{icon:"el-icon-edit"},on:{click:e.closeThisView}},[e._v(e._s(e.$t("common.cancel_edit")))]):e._e(),e._v(" "),"edit"===e.type?a("el-link",{directives:[{name:"permission",rawName:"v-permission",value:["delete_research_"+e.researchType,"delete_research"],expression:"['delete_research_'+researchType, 'delete_research']"}],staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-edit"},on:{click:e.onDelete}},[e._v(e._s(e.$t("common.delete")))]):e._e(),e._v(" "),"show"===e.type?a("el-link",{directives:[{name:"permission",rawName:"v-permission",value:["edit_research_"+e.researchType,"edit_research"],expression:"['edit_research_'+researchType, 'edit_research']"}],attrs:{icon:"el-icon-edit"},on:{click:e.goToEdit}},[e._v(e._s(e.$t("common.edit")))]):e._e(),e._v(" "),"create"!==e.type?a("qt-form",{attrs:{type:e.type,"data-source-url":[e.requestUrl+"/"+e.researchType+"/"+e.researchId+"/structure"]}}):a("qt-form",{attrs:{type:"create","data-source-url":[e.requestUrl+"/"+e.researchType+"/structure"]}}),e._v(" "),"project"===e.researchType&&"create"!==e.type?a("project-member-table",{attrs:{type:e.type,"project-id":e.researchId}}):e._e(),e._v(" "),"project"===e.researchType&&"create"!==e.type?a("project-funds-table",{attrs:{type:e.type,"project-id":e.researchId}}):e._e(),e._v(" "),"project"===e.researchType&&"create"!==e.type?a("project-admin-table",{attrs:{type:e.type,"project-id":e.researchId}}):e._e(),e._v(" "),"create"!==e.type?a("attachments",{directives:[{name:"permission",rawName:"v-permission",value:["edit_research_"+e.researchType,"edit_research"],expression:"['edit_research_'+researchType, 'edit_research']"}],attrs:{type:e.type,"data-source-url":"/api/attachment/"+e.researchType+"/"+e.researchId}}):e._e()],1)},n=[],o=a("d694"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-top":"20px"}},[a("h3",{staticClass:"project-funds-title"},[e._v("经费到账情况")]),e._v(" "),"show"!==e.type?a("project-funds-dialog",{attrs:{type:"create","data-source":{projectId:e.projectId,data:{}}}}):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80",sortable:"",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:e.$t("research.project_funds_info.arrival_date"),sortable:"",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.arrival_date))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:e.$t("research.project_funds_info.amount")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.amount))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"400",align:"center",label:e.$t("research.project_funds_info.remark")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),"show"!==e.type?a("el-table-column",{attrs:{"min-width":"180",align:"center",label:e.$t("common.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("project-funds-dialog",{attrs:{"data-source":{projectId:e.projectId,data:t.row},type:"edit"}}),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.onDelete(t.row.id)}}},[e._v(e._s(e.$t("common.delete")))])]}}],null,!1,2914224964)}):e._e()],1)],1)},s=[],c=a("896b"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline"}},["create"===e.type?a("el-link",{staticClass:"create-btn",attrs:{icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("新增到账记录")]):e._e(),e._v(" "),"edit"===e.type?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v(e._s(e.$t("common.edit")))]):e._e(),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("research.project_funds_info.TITLE"),visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.postForm,"label-width":"100px","label-position":"left"}},[a("el-form-item",{staticClass:"flight-form-item",attrs:{label:e.$t("research.project_funds_info.arrival_date")}},[a("el-date-picker",{staticClass:"form-date",attrs:{type:"date",placeholder:e.$t("common.pleaseChoose")},model:{value:e.postForm.arrival_date,callback:function(t){e.$set(e.postForm,"arrival_date",t)},expression:"postForm.arrival_date"}})],1),e._v(" "),a("el-form-item",{staticClass:"flight-form-item",attrs:{label:e.$t("research.project_funds_info.amount")}},[a("el-input",{attrs:{autocomplete:"off",type:"number"},model:{value:e.postForm.amount,callback:function(t){e.$set(e.postForm,"amount",t)},expression:"postForm.amount"}})],1),e._v(" "),a("el-form-item",{staticClass:"flight-form-item",attrs:{label:e.$t("research.project_funds_info.remark")}},[a("el-input",{attrs:{type:"textarea",rows:5,autocomplete:"off"},model:{value:e.postForm.remark,callback:function(t){e.$set(e.postForm,"remark",t)},expression:"postForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)],1)},d=[],u=a("a46e"),p={name:"ProjectFundsDialog",props:["dataSource","type"],data:function(){return{postForm:{},dialogFormVisible:!1,loading:!1}},created:function(){this.postForm=Object.assign({},this.dataSource.data,this.postForm)},methods:{handleSubmit:function(){var e=this.postForm;switch(this.type){case"edit":return void this.updateData(e);case"create":return void this.postData(e)}},postData:function(e){var t=this,a=this.dataSource.projectId;console.log("create!!!!!!",e),this.loading||(this.loading=!0,Object(c["b"])(a,e).then((function(e){t.$message({message:"创建成功! Created Successfully!",type:"success"}),t.dialogFormVisible=!1,Object(u["b"])(t)})).catch((function(e){t.$message.error("创建失败! Creation Failed!"),t.loading=!1})))},updateData:function(e){var t=this,a=this.dataSource.projectId,r=this.dataSource.data.id;this.loading||Object(c["o"])(a,r,e).then((function(e){t.$message({message:"更新成功! Updated Successfully!",type:"success"}),t.dialogFormVisible=!1,Object(u["b"])(t)})).catch((function(e){t.$message.error("更新失败! Update Failed!"),t.loading=!1}))}}},m=p,f=(a("7a4e"),a("4e82")),h=Object(f["a"])(m,l,d,!1,null,"1b926432",null),b=h.exports,_={name:"ProjectFundsTable",components:{ProjectFundsDialog:b},props:["projectId","type"],data:function(){return{list:null,listLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(c["k"])(this.projectId).then((function(t){e.list=t,e.listLoading=!1}))},onDelete:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(c["e"])(t.projectId,e)})).then((function(e){t.$message({type:"success",message:"删除成功!"}),Object(u["b"])(t)})).catch((function(e){t.$message({type:"info",message:"已取消删除"})}))}}},g=_,v=(a("b3a4"),Object(f["a"])(g,i,s,!1,null,"5780f13b",null)),y=v.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-top":"20px"}},[a("h3",{staticClass:"project-member-title"},[e._v("项目成员情况")]),e._v(" "),"show"!==e.type?a("project-member-dialog",{attrs:{type:"create","data-source":{projectId:e.projectId,person:{}}}}):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:e.$t("research.project_member_info.sid"),width:"100",sortable:"",prop:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.sid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:e.$t("research.project_member_info.name"),sortable:"",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:e.$t("research.project_member_info.institution")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.institution))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",align:"center",label:e.$t("research.project_member_info.position_title")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.position_title))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",align:"center",label:e.$t("research.project_member_info.degree")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.degree))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180",align:"center",label:e.$t("research.project_member_info.research_direction")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.research_direction))])]}}])}),e._v(" "),"show"!==e.type?a("el-table-column",{attrs:{"min-width":"180",align:"center",label:e.$t("common.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.onDelete(t.row.peopleId)}}},[e._v(e._s(e.$t("common.delete")))])]}}],null,!1,2013861615)}):e._e()],1)],1)},w=[],$=a("09d0"),k=(a("02b0"),a("7cfd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline"}},["create"===e.type?a("el-link",{staticClass:"create-btn",attrs:{icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加项目成员")]):e._e(),e._v(" "),"edit"===e.type?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v(e._s(e.$t("common.edit")))]):e._e(),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("research.project_member_info.TITLE"),visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.person,"label-width":"100px","label-position":"left"}},[a("el-form-item",{staticClass:"form-item",attrs:{label:e.$t("research.project_member_info.person")}},[a("person-selector",{attrs:{editable:!0,"option-url":"/api/people/options"},model:{value:e.person,callback:function(t){e.person=t},expression:"person"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)],1)}),S=[],O=a("764c"),T={name:"ProjectMemberDialog",props:["dataSource","type"],components:{PersonSelector:O["a"]},data:function(){return{person:{},dialogFormVisible:!1,loading:!1}},created:function(){this.person=Object.assign({},this.person,this.dataSource.person)},methods:{handleSubmit:function(){var e=this.person.id;switch(this.type){case"edit":return void this.updateData(e);case"create":return void this.postData(e)}},postData:function(e){var t=this,a=this.dataSource.projectId;this.loading||(this.loading=!0,Object(c["c"])(a,e).then((function(e){t.$message({message:"创建成功! Created Successfully!",type:"success"}),t.dialogFormVisible=!1,Object(u["b"])(t)})).catch((function(e){t.$message.error("创建失败! Creation Failed!"),t.loading=!1})))}}},x=T,F=(a("5e4d"),Object(f["a"])(x,k,S,!1,null,"75b22d36",null)),I=F.exports,C={name:"ProjectMemberTable",components:{ProjectMemberDialog:I},props:["projectId","type"],data:function(){return{list:null,listLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(c["m"])(this.projectId).then((function(t){e.list=e.formatList(t),e.listLoading=!1}))},formatList:function(e){for(var t=[],a=0;a<e.length;a++){var r={};r.id=e[a].id;var n=e[a].people;for(var o in r.peopleId=n.id,r.sid=n.sid,r.name=n.name,n)if(o.startsWith("people")&&n[o]&&"object"===Object($["a"])(n[o])){r.institution=n.institution,r.position_title=n.position_title,r.degree=n.degree,r.research_direction=n.research_direction;break}t.push(r)}return t},onDelete:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(c["f"])(t.projectId,e),Object(u["b"])(t)})).then((function(e){t.$message({type:"success",message:"删除成功!"})})).catch((function(e){t.$message({type:"info",message:"已取消删除"})}))}}},L=C,V=(a("3fd4"),Object(f["a"])(L,j,w,!1,null,"f68919c0",null)),D=V.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-top":"20px"}},[a("h3",{staticClass:"project-admin-title"},[e._v("可查看经费的人员")]),e._v(" "),"show"!==e.type?a("project-admin-dialog",{attrs:{type:"create","data-source":{projectId:e.projectId,person:{}}}}):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:e.$t("research.project_admin_info.sid"),width:"100",sortable:"",prop:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.sid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:e.$t("research.project_admin_info.name"),sortable:"",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),"show"!==e.type?a("el-table-column",{attrs:{"min-width":"180",align:"center",label:e.$t("common.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.onDelete(t.row.peopleId)}}},[e._v(e._s(e.$t("common.delete")))])]}}],null,!1,2013861615)}):e._e()],1)],1)},P=[],U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline"}},["create"===e.type?a("el-link",{staticClass:"create-btn",attrs:{icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加人员")]):e._e(),e._v(" "),"edit"===e.type?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v(e._s(e.$t("common.edit")))]):e._e(),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("research.project_admin_info.TITLE"),visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.person,"label-width":"100px","label-position":"left"}},[a("el-form-item",{staticClass:"form-item",attrs:{label:e.$t("research.project_admin_info.person")}},[a("person-selector",{attrs:{editable:!0,"option-url":"/api/people/options"},model:{value:e.person,callback:function(t){e.person=t},expression:"person"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)],1)},A=[],N={name:"ProjectAdminDialog",props:["dataSource","type"],components:{PersonSelector:O["a"]},data:function(){return{person:{},dialogFormVisible:!1,loading:!1}},created:function(){this.person=Object.assign({},this.person,this.dataSource.person)},methods:{handleSubmit:function(){var e=this.person.id;switch(this.type){case"edit":return void this.updateData(e);case"create":return void this.postData(e)}},postData:function(e){var t=this,a=this.dataSource.projectId;this.loading||(this.loading=!0,Object(c["a"])(a,e).then((function(e){t.$message({message:"创建成功! Created Successfully!",type:"success"}),t.dialogFormVisible=!1,Object(u["b"])(t)})).catch((function(e){t.$message.error("创建失败! Creation Failed!"),t.loading=!1})))}}},q=N,B=(a("1a27"),Object(f["a"])(q,U,A,!1,null,"97b700d4",null)),z=B.exports,M={name:"ProjectAdminTable",components:{ProjectAdminDialog:z},props:["projectId","type"],data:function(){return{list:null,listLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(c["j"])(this.projectId).then((function(t){e.list=e.formatList(t),e.listLoading=!1}))},formatList:function(e){for(var t=[],a=0;a<e.length;a++){var r={};r.id=e[a].id;var n=e[a].people;for(var o in r.peopleId=n.id,r.sid=n.sid,r.name=n.name,n)if(o.startsWith("people")&&n[o]&&"object"===Object($["a"])(n[o])){r.institution=n.institution,r.position_title=n.position_title,r.degree=n.degree,r.research_direction=n.research_direction;break}t.push(r)}return t},onDelete:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(c["d"])(t.projectId,e),Object(u["b"])(t)})).then((function(e){t.$message({type:"success",message:"删除成功!"})})).catch((function(e){t.$message({type:"info",message:"已取消删除"})}))}}},R=M,J=(a("df5f"),Object(f["a"])(R,E,P,!1,null,"0df02dfc",null)),W=J.exports,Q=a("7c9d"),G=a("e0fe"),H={name:"ResearchDetail",components:{QtForm:o["a"],ProjectFundsTable:y,ProjectMemberTable:D,ProjectAdminTable:W,Attachments:Q["a"]},data:function(){return{tempRoute:{},type:"",requestUrl:"/api/research",researchType:"",researchId:-1}},created:function(){this.tempRoute=Object.assign({},this.$route),console.log("in people view page");var e=this.$store.getters.language,t=this.$route.params.id,a=this.$route.params.type,r=this.$route.params.action_type||"show",n="create"===r?this.$route.params.type:t;this.type=r,this.researchId=t,this.researchType=a,this.setTagsViewTitle(e,n),this.setPageTitle(e,n)},methods:{getTitle:function(e,t){var a;if("show"===this.type)switch(e){case"zh":a=this.$t("route."+this.researchType)+"详情";break;case"en":a=this.$t("route."+this.researchType)+" Info";break}return"edit"===this.type&&(a="zh"===e?"编辑":"Edit"),"create"===this.type&&(a="zh"===e?"创建":"Create"),"".concat(a,"-").concat(t)},setTagsViewTitle:function(e,t){var a=Object.assign({},this.tempRoute,{title:this.getTitle(e,t)});this.$store.dispatch("tagsView/updateVisitedView",a)},setPageTitle:function(e,t){document.title=this.getTitle(e,t)},goToEdit:function(){var e=this.$route.params.id,t="/research/".concat(this.researchType,"/").concat(e,"/edit");this.$router.push(t)},onDelete:function(){var e=this;Object(G["a"])(this,(function(t){Object(c["g"])(e.researchType,e.researchId)}))},closeThisView:function(){Object(u["a"])(this.$route.path)}}},K=H,X=(a("f038"),Object(f["a"])(K,r,n,!1,null,"b4c670dc",null));t["default"]=X.exports},"896b":function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"h",(function(){return o})),a.d(t,"l",(function(){return i})),a.d(t,"n",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"k",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"o",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"m",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"f",(function(){return h})),a.d(t,"j",(function(){return b})),a.d(t,"a",(function(){return _})),a.d(t,"d",(function(){return g}));var r=a("b775");function n(e){return Object(r["a"])({url:"/api/research/patent",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/api/research/paper",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/api/research/project",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/api/research/reward",method:"get",params:e})}function c(e,t){return Object(r["a"])({url:"/api/research/".concat(e,"/").concat(t),method:"delete"})}function l(e){return Object(r["a"])({url:"/api/research/project/".concat(e,"/fund"),method:"get"})}function d(e,t){return Object(r["a"])({url:"/api/research/project/".concat(e,"/fund"),method:"post",data:t})}function u(e,t,a){return Object(r["a"])({url:"/api/research/project/".concat(e,"/fund/").concat(t),method:"put",data:a})}function p(e,t){return Object(r["a"])({url:"/api/research/project/".concat(e,"/fund/").concat(t),method:"delete"})}function m(e){return Object(r["a"])({url:"/api/research/project/".concat(e,"/member"),method:"get"})}function f(e,t){return Object(r["a"])({url:"/api/research/project/".concat(e,"/member/").concat(t),method:"post"})}function h(e,t){return Object(r["a"])({url:"/api/research/project/".concat(e,"/member/").concat(t),method:"delete"})}function b(e){return Object(r["a"])({url:"/api/research/project/".concat(e,"/admin"),method:"get"})}function _(e,t){return Object(r["a"])({url:"/api/research/project/".concat(e,"/admin/").concat(t),method:"post"})}function g(e,t){return Object(r["a"])({url:"/api/research/project/".concat(e,"/admin/").concat(t),method:"delete"})}},"89a4":function(e,t,a){"use strict";var r=a("8e97"),n=a.n(r);n.a},"8e97":function(e,t,a){},"99b7":function(e,t,a){},b3a4:function(e,t,a){"use strict";var r=a("44a8"),n=a.n(r);n.a},d063:function(e,t,a){},df5f:function(e,t,a){"use strict";var r=a("d063"),n=a.n(r);n.a},f038:function(e,t,a){"use strict";var r=a("2a29"),n=a.n(r);n.a},f3b8:function(e,t,a){}}]);